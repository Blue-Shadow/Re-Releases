ACTOR PyroDemon : StrongholdBaronOfHell 30105
{
	Species "PyroDemon"
	//$Category Stronghold_Monsters
	painchance "Stunner",128
	Health 2000
	PainChance 20
	OBITUARY "%o was burnt to a crisp by a pyro demon."
	HITOBITUARY "%o was melted by a pyro demon."
	Bloodcolor "75 25 00"
	+NoTarget
	+FloorClip
	+MissileMore
	+NoRadiusDMG
	+Boss
	+DONTHARMCLASS
	SEESOUND "pyro/see"
	PAINSOUND "pyro/pain"
	DEATHSOUND "pyro/death"
	ACTIVESOUND "pyro/idle"
	RenderStyle Translucent
	states
	{
	Spawn:
		PYRO AB 10 A_Look
		Loop
	See:
		PYRO A 1 A_Chase
		PYRO AA 1 A_Chase("","",CHF_NOPLAYACTIVE)
		PYRO A 1 A_Chase
		PYRO AA 1 A_Chase("","",CHF_NOPLAYACTIVE)
		PYRO A 0 A_SpawnItemEx("WalkFire")
		PYRO B 1 A_Chase
		PYRO BB 1 A_Chase("","",CHF_NOPLAYACTIVE)
		PYRO B 1 A_Chase
		PYRO BB 1 A_Chase("","",CHF_NOPLAYACTIVE)
		PYRO A 0 A_SpawnItemEx("WalkFire")
		PYRO C 1 A_Chase
		PYRO CC 1 A_Chase("","",CHF_NOPLAYACTIVE)
		PYRO C 1 A_Chase
		PYRO CC 1 A_Chase("","",CHF_NOPLAYACTIVE)
		PYRO A 0 A_SpawnItemEx("WalkFire")
		PYRO D 1 A_Chase
		PYRO DD 1 A_Chase("","",CHF_NOPLAYACTIVE)
		PYRO D 1 A_Chase
		PYRO DD 1 A_Chase("","",CHF_NOPLAYACTIVE)
		PYRO A 0 A_SpawnItemEx("WalkFire")
		Loop
	Melee:
		Stop
	Missile:
		PYRO B 0 A_Jump(32,29)
		PYRO B 0 A_Jump(32,20)
		PYRO EF 8 BRIGHT A_FaceTarget
		PYRO G 0 A_CustomMissile ("FireShot",28,0,0,0)
		PYRO G 0 A_CustomMissile ("FireShot",28,0,-4,0)
		PYRO G 3 BRIGHT A_CustomMissile ("FireShot",28,0,4,0)
		PYRO H 3 BRIGHT
		PYRO H 0 A_Jump(32,8)
		PYRO IJ 8 BRIGHT A_FaceTarget
		PYRO K 0 A_CustomMissile ("FireShot",28,0,0,0)
		PYRO K 0 A_CustomMissile ("FireShot",28,0,-4,0)
		PYRO K 3 BRIGHT A_CustomMissile ("FireShot",28,0,4,0)
		PYRO L 3 BRIGHT
		PYRO L 0 A_Jump(32,1)
		Goto See
		PYRO MN 8 BRIGHT A_FaceTarget
		PYRO O 4 BRIGHT A_CustomMissile ("PyroBlast",28,0,0,0)
		PYRO P 4 BRIGHT
		Goto See
		PYRO MN 8 BRIGHT A_FaceTarget
		PYRO O 4 BRIGHT A_CustomMissile ("RainCometNull",28,0,0,0)
		PYRO O 4 BRIGHT A_CustomMissile ("RainCometNull",28,0,90,0)
		PYRO O 4 BRIGHT A_CustomMissile ("RainCometNull",28,0,180,0)
		PYRO O 4 BRIGHT A_CustomMissile ("RainCometNull",28,0,270,0)
		PYRO P 4 BRIGHT
		Goto See
		PYRO O 1 A_FaceTarget
		PYRO O 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
		PYRO O 0 A_Mushroom ("Pyroball",16)
		PYRO O 3
		PYRO P 3 BRIGHT
		PYRO A 0 A_UnSetShootable
		PYRO A 1 A_PlaySound("pyro/tele")
		PYRO AAAAAAAAA 1 A_FadeOut(.1,0)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
		TNT1 A 0 A_Jump(128,75)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Chase("","")
		PYRO A 1 A_PlaySound("pyro/tele")
		PYRO AAAAAAAAAA 1 A_FadeIn
		PYRO A 0 A_CustomMissile ("EscapeExplosion",28,10,0,0)
		PYRO O 0 A_Mushroom ("Pyroball",16)
		PYRO A 0 A_SetShootable
		Goto See
	Pain:
		PYRO Q 2
		PYRO Q 2 A_Pain
		Goto See
	Pain.Stunner:
		PYRO Q 2 A_ChangeFlag("NoPain",1)
		PYRO Q 300 A_Pain
		PYRO Q 0 A_ChangeFlag("NoPain",0)
		goto See
	Death:
		TNT1 A 0 A_GiveToTarget("AwardItem",32)
		PYRO R 20 BRIGHT A_Scream
		PYRO ST 20 BRIGHT
		PYRO U 20 BRIGHT A_NoBlocking
		PYRO VW 6 BRIGHT
		PYRO X 6 BRIGHT
		PYRO Y 3 BRIGHT
		PYRO Z 3000
		PYRO Z 2 A_FadeOut(0.1)
		Wait
	Raise:
		Stop
	}
}

ACTOR FireShot
{
	Radius 3
	Height 3
	Speed 15
	Damage 3
	PROJECTILE
	RENDERSTYLE ADD
	ALPHA 0.67
	DamageType Fire
	SeeSound "pyro/flame"
	DeathSound "pyro/flamepoof"
	States
	{
	Spawn:
		FSHT A 1 Bright A_SpawnItemEx("FireTail")
		Loop
	Death:
		FSHT B 3 Bright A_Explode
		FSHT CDE 3 Bright
		Stop
	}
}

actor FireTail
{
	+CLIENTSIDEONLY
	PROJECTILE
	RENDERSTYLE ADD
	+NOCLIP
	ALPHA 0.4
	States
	{
	Spawn:
		FRTB ABCDEFGHI 1 Bright
		Stop
	}
}

ACTOR EscapeExplosion
{
	SeeSound "pyro/explosion"
	Radius 8
	Height 56
	States
	{
	Spawn:
		NKXP BC 3 BRIGHT
		NKXP D 3 BRIGHT A_Explode(50,192)
		NKXP EFGHIJKLMNOPQRSTUV 3 BRIGHT
		Stop
	}
}

ACTOR PyroBall
{
	Radius 10
	Height 8
	Speed 15
	SEESOUND "pyro/bomb"
	DEATHSOUND "pyro/bombhit"
	PROJECTILE
	RENDERSTYLE Add
	Alpha 0.7
	-NoGravity
	BounceType Doom
	Gravity .125
	DamageType Fire
	+SeekerMissile
	states
	{
	Spawn:
		RBAL A 0
		RBAL A 0 A_AlertMonsters
		RBAL AAAABBBB 1 BRIGHT
		Goto Spawn +2
	Death:
		RBAL DEFGHI 4 BRIGHT
		Stop
	}
}

ACTOR FirebombExplosion1
{
	Radius 11
	Height 8
	Speed 18
	Damage 6
	+NOBLOCKMAP
	+DROPOFF
	+MISSILE
	+ACTIVATEIMPACT
	+ACTIVATEPCROSS
	Obituary "%o was killed by a Firebomb explosion."
	States
	{
	Spawn:
		FRME A 1 Bright
		Loop
	Death:
		FRME A 0 A_PlaySound("pyro/blastexplosion")
		FRME A 3 Bright A_Explode(128,144)
		FRME B 1 Bright A_Mushroom("Pyroball",8)
		FRME B 2 Bright A_CustomMissile("FirebombExplosion2",25,0,180)
		FRME CDEFGHIJKLMNOPQRS 3 Bright
		Stop
	}
}

ACTOR FirebombExplosion2 : FirebombExplosion1
{
	States
	{
	Death:
		FRME A 0 A_PlaySound("pyro/blastexplosion")
		FRME A 3 Bright A_Explode(128,136)
		FRME B 1 Bright
		FRME B 2 Bright A_CustomMissile("FirebombExplosion3",20,0,180)
		FRME CDEFGHIJKLMNOPQRS 3 Bright
		Stop
	}
}

ACTOR FirebombExplosion3 : FirebombExplosion1
{
	Speed 14
	Damage 5
	States
	{
	Death:
		FRME A 0
		FRME A 0 A_PlaySound("pyro/blastexplosion")
		FRME A 3 Bright A_Explode
		FRME BCDEFGHIJKLMNOPQRS 3 Bright
		Stop
	}
}

ACTOR PyroBlast
{
	PROJECTILE
	+SeekerMissile
	+NoGravity
	RENDERSTYLE Add
	Alpha 0.4
	SEESOUND "pyro/blast"
	DEATHSOUND "pyro/flamepoof"
	Speed 17
	Height 10
	Radius 10
	states
	{
	Spawn:
		SBLL ABCDEFGHIJ 1 BRIGHT A_SpawnItemEx("FireTail")
		SBLL A 0 A_SeekerMissile(0,2)
		Goto Spawn+1
	Death:
		SBLL K 0 A_CustomMissile("FirebombExplosion1",1,0,45)
		SBLL K 0 A_CustomMissile("FirebombExplosion1",1,0,135)
		SBLL K 0 A_CustomMissile("FirebombExplosion1",1,0,225)
		SBLL K 0 A_CustomMissile("FirebombExplosion1",1,0,315)
		SBLL LMNOPQRSTUVW 1 BRIGHT
		Stop
	}
}

ACTOR WalkFire
{
	+CLIENTSIDEONLY
	+NOCLIP
	+MISSILE
	+DROPOFF
	+RANDOMIZE
	Scale 1.5
	Speed 1
	RENDERSTYLE ADD
	ALPHA 0.67
	States
	{
	Spawn:
		TNT1 A 8
		FRTF ABC 3 Bright
		FRTF C 0 A_Jump(191,4)
		FRTF C 0 A_CustomMissile("WalkFire",0,24)
		FRTF C 0 A_CustomMissile("WalkFire",0)
		FRTF C 0 A_CustomMissile("WalkFire",0,-24)
		FRTF DEFGHIJKLMNO 3 Bright
		Stop
	}
}

ACTOR RainCometNull
{
	Radius 0
	Height 0
	Speed 8
	PROJECTILE
	+FloorClip
	+Ripper
	BounceType Doom
	+CeilingHugger
	states
	{
	Spawn:
		ZAP5 A 0 NODELAY A_Jump(251,1)
		Stop
		ZAP5 AAAAAA 1 A_Wander
		ZAP5 A 8 A_CustomMissile("FallingComet",-24,random(0,128),random(0,360),2,random(1,89))
		Loop
	}
}

ACTOR FallingComet
{
	Radius 6
	Height 8
	Speed 5
	Damage 5
	Scale .55
	PROJECTILE
	SEESOUND "pyro/comet"
	DEATHSOUND "pyro/cometdeath"
	-NoGravity
	+FloorClip
	+SpawnCeiling
	states
	{
	Spawn:
		COMT AAAABBBBCCCC 1 BRIGHT A_SpawnItemEx("FireTail")
		Loop
	Death:
		COMT D 3 BRIGHT A_SpawnItemEx("CometDeathGlow")
		COMT E 3 BRIGHT A_Explode(20,128,0)
		COMT F 3 BRIGHT A_SetTranslucent(.7,1)
		COMT G 3 Bright LIGHT("Comet5")
		COMT H 3 Bright LIGHT("Comet6")
		COMT I 3 Bright LIGHT("Comet7")
		Stop
	}
}

actor CometDeathGlow : FireTail
{
	Scale 2.0
	Alpha 0.6
	States
	{
	Spawn:
		FRTB ABCDEFGHI 3 Bright
		Stop
	}
}